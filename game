#!/usr/bin/env ruby
require_relative 'lib/options'
require_relative 'lib/environment'
require_relative 'models/game'

command = ARGV[0]


# name = ARGV[1]
options = Options.parse

case command.downcase
when "add", "remove", "update"
  # User is trying to add, remove or update a game
  name = ARGV[1]
  if name.nil? or name.empty?
    puts "Must provide a name"
  else
    options[:name] = name
    command = command == "add" ? "create" : command
    result = Game.send(command.to_sym, options)
    puts result
  end
else
  puts "unknown"
end
